<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Dict to JSON converter</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; display: flex; justify-content: center; padding: 20px; }
        .container { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); width: 100%; max-width: 900px; }
        .mode-selector { margin-bottom: 20px; display: flex; gap: 10px; background: #eee; padding: 5px; border-radius: 8px; width: fit-content; }
        .mode-btn { padding: 8px 15px; border: none; border-radius: 6px; cursor: pointer; background: transparent; transition: 0.3s; }
        .mode-btn.active { background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-weight: bold; }

        textarea { width: 100%; height: 200px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-family: 'Cascadia Code', monospace; box-sizing: border-box; font-size: 14px; }
        .controls { margin: 20px 0; display: flex; gap: 10px; align-items: center; }

        button.action-btn { padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; color: white; }
        .btn-convert { background: #6c5ce7; }
        .btn-copy { background: #00b894; }
        .btn-clear { background: #b2bec3; }

        pre { background: #2d3436; color: #a29bfe; padding: 15px; border-radius: 6px; overflow-x: auto; min-height: 100px; font-size: 14px; }
        .error { color: #d63031; font-weight: bold; margin-bottom: 10px; min-height: 20px; }
        h3 { margin-bottom: 5px; color: #2d3436; }
    </style>
</head>
<body>

<div class="container">
    <h2>Python Dict to JSON converter</h2>

    <div class="mode-selector">
        <button id="pyToJsonBtn" class="mode-btn active" onclick="setMode('py-to-json')">Python → JSON</button>
        <button id="jsonToPyBtn" class="mode-btn" onclick="setMode('json-to-py')">JSON → Python</button>
    </div>

    <h3 id="inputLabel">Input: Python Dictionary</h3>
    <textarea id="input" placeholder="Paste data here..."></textarea>

    <div class="controls">
        <button class="action-btn btn-convert" onclick="process()">Convert Now</button>
        <button id="copyBtn" class="action-btn btn-copy" onclick="copyToClipboard()">Copy Result</button>
        <button class="action-btn btn-clear" onclick="clearAll()">Clear</button>
    </div>

    <div id="errorLog" class="error"></div>

    <h3 id="outputLabel">Output: JSON</h3>
    <pre id="output">// Results will appear here</pre>
</div>

<script>
    let currentMode = 'py-to-json';

    function setMode(mode) {
        currentMode = mode;
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(mode === 'py-to-json' ? 'pyToJsonBtn' : 'jsonToPyBtn').classList.add('active');

        document.getElementById('inputLabel').innerText = mode === 'py-to-json' ? 'Input: Python Dictionary' : 'Input: JSON';
        document.getElementById('outputLabel').innerText = mode === 'py-to-json' ? 'Output: JSON' : 'Output: Python Dictionary';
        clearAll();
    }

    function process() {
        const input = document.getElementById('input').value.trim();
        const outputElement = document.getElementById('output');
        const errorElement = document.getElementById('errorLog');
        errorElement.innerText = "";

        if (!input) return;

        try {
            if (currentMode === 'py-to-json') {
                // PYTHON TO JSON
                let sanitized = input
                    .replace(/'/g, '"')
                    .replace(/\bTrue\b/g, 'true')
                    .replace(/\bFalse\b/g, 'false')
                    .replace(/\bNone\b/g, 'null')
                    .replace(/^[a-zA-Z_][a-zA-Z0-9_]*\s*=\s*/, '');

                const obj = JSON.parse(sanitized);
                outputElement.innerText = JSON.stringify(obj, null, 4);
            } else {
                // JSON TO PYTHON
                const obj = JSON.parse(input);
                let pyStr = JSON.stringify(obj, null, 4)
                    .replace(/true/g, 'True')
                    .replace(/false/g, 'False')
                    .replace(/null/g, 'None');

                outputElement.innerText = pyStr;
            }
        } catch (e) {
            errorElement.innerText = "Error: Please check your syntax format.";
        }
    }

    async function copyToClipboard() {
        const text = document.getElementById('output').innerText;
        await navigator.clipboard.writeText(text);
        const btn = document.getElementById('copyBtn');
        const originalText = btn.innerText;
        btn.innerText = "✓ Copied!";
        setTimeout(() => btn.innerText = originalText, 1500);
    }

    function clearAll() {
        document.getElementById('input').value = "";
        document.getElementById('output').innerText = "// Results will appear here";
        document.getElementById('errorLog').innerText = "";
    }
</script>

</body>
</html>
